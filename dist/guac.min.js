/* Guac | /? /\ |) | /\ |_ (_, |_ () 2014-05-11 */
!function(a){"use strict";var b=a.document,c=function(a){return new c.fn.init(a)};c.guid=1,c.fn=c.prototype={constructor:c,each:function(a){return c.each(this.target,a)},some:function(a){return c.some(this.target,a)}},c.isArray=Array.isArray,c.type=function(a){return typeof a},c.isString=function(a){return"string"===c.type(a)},c.isFunction=function(a){return"function"===c.type(a)},c.each=function(a,b){var d,e=c.isArray(a);if(e)a.forEach(b);else for(d in a)b.call(a[d],a[d],d,a);return a},c.some=function(a,b){var d,e=c.isArray(a);if(e)return a.some(b);for(d in a)if(b.call(a[d],a[d],d))return!0;return!1};var d=c.fn.init=function(a){return c.isString(a)?this.target=Array.prototype.slice.call(b.querySelectorAll(a)):c.isFunction(a)?c.ready(a):this.target=a.nodeType?[a]:[a],this};return d.prototype=c.fn,c.ready=function(b){a.addEventListener("load",b)},c.event={add:function(a,b,d){var e,f,g;d.guid||(d.guid=c.guid++),(g=a.events)||(g=a.events={}),(e=a.handle)||(e=function(){c.event.dispatch.apply(a,arguments)}),(f=g[b])||(f=g[b]=[],a.addEventListener(b,e,!1)),f.push(d)},remove:function(a,b,c){var d;a.events&&(d=a.events[b]||[],d.forEach(function(a,b){a.guid===c.guid&&d.splice(b,1)}))},dispatch:function(a){var b;this.events&&(b=this.events[a.type]||[],b.forEach(function(b){b(a)}))}},c.prototype.on=function(a,b){return this.each(function(d){c.event.add(d,a,b)})},c.prototype.off=function(a,b){return this.each(function(d){c.event.remove(d,a,b)})},c.ajax=function(a,b){var c,d,e=b.method||"GET",f=new XMLHttpRequest,g=b.success,h=b.error,i=b.data,j=null,k="GET"!==e;if(i){j=[];for(c in i)j.push(encodeURIComponent(c)+"="+encodeURIComponent(i[c]));j.join("&"),k||(a+="?"+j,j=null)}f.open(e,a),k&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),f.onreadystatechange=function(){4===f.readyState&&(200===f.status?(d=f.getResponseHeader("Content-Type"),g&&g(-1!==d.indexOf("xml")&&f.responseXML?f.responseXML:-1!==d.indexOf("application/json")?JSON.parse(f.responseText):f.responseText)):h&&h())},f.send(j)},c.get=function(a,b){b.method="GET",c.ajax(a,b)},c.post=function(a,b){b.method="POST",c.ajax(a,b)},c.fn.addClass=function(){var a=arguments;this.each(function(b){b.classList.add.apply(b.classList,a)})},c.fn.removeClass=function(a){this.each(function(b){b.classList.remove(a)})},c.fn.hasClass=function(a){var b=this.some(function(b){return b.classList.contains(a)?!0:void 0});return b},c.fn.toggleClass=function(a){this.hasClass(a)?this.removeClass(a):this.addClass(a)},c._subscribers={},c.subscribe=function(a,b,c){var d=this._subscribers;"undefined"==typeof d[a]&&(d[a]=[]),d[a].push({fn:b,ctx:c||this})},c.unsubscribe=function(a,b,d){var e=this._subscribers[a];d=d||this,c.each(e,function(a,c){a.fn===b&&a.ctx===d&&e.splice(c,1)})},c.publish=function(a,b){var d=this._subscribers[a];c.each(d,function(a){a.fn.apply(a.ctx,b)})},"object"==typeof a&&"object"==typeof a.document&&(a.Guac=a.$=c),c}(this);